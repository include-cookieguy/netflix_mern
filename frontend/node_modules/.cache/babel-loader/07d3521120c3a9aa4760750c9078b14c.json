{"ast":null,"code":"import _regeneratorRuntime from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Slider from\"../../components/slider/Slider\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Footer from\"../../components/footer/Footer\";import Navbar from\"../../components/navbar/Navbar\";import{removeAll}from\"../../redux/actions/userAction\";import{getDataAPI}from\"../../utils/fetchData\";import\"./mylist.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyList=function MyList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myList=_useState2[0],setMyList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listsForRecommend=_useState4[0],setListsForRecommend=_useState4[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,user=_useSelector.user;useEffect(function(){var getRandomLists=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getDataAPI(\"lists\",auth.token);case 3:res=_context.sent;setListsForRecommend(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getRandomLists(){return _ref.apply(this,arguments);};}();getRandomLists();},[auth.token]);useEffect(function(){setMyList([{result:user.favouriteMovie}]);},[user.favouriteMovie]);var deleteAllFav=function deleteAllFav(){dispatch(removeAll(auth));};return/*#__PURE__*/_jsxs(\"div\",{className:\"favourite-list\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-favouritelist\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",padding:\"100px 60px 0px 60px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"2rem\",fontWeight:\"300\",marginRight:\"10px\"},children:\"User >\"}),\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"header-favourite\",children:\"My List\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:deleteAllFav,className:\"delete-all\",children:[\"Delete All \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-list\",children:myList.map(function(list,index){return/*#__PURE__*/_jsx(Slider,{data:list.result,poster:true},index);})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default MyList;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/pages/mylist/MyList.js"],"names":["Slider","React","useEffect","useState","useDispatch","useSelector","Footer","Navbar","removeAll","getDataAPI","MyList","myList","setMyList","listsForRecommend","setListsForRecommend","dispatch","state","auth","user","getRandomLists","token","res","data","console","log","result","favouriteMovie","deleteAllFav","display","alignItems","padding","fontSize","fontWeight","marginRight","map","list","index"],"mappings":"0dAAA,MAAOA,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,SAAT,KAA0B,gCAA1B,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAO,eAAP,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAA4BP,QAAQ,CAAC,EAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACA,eAAkDT,QAAQ,CAAC,EAAD,CAA1D,yCAAOU,iBAAP,eAA0BC,oBAA1B,eACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,iBAAuBC,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAAlC,CAAQC,IAAR,cAAQA,IAAR,CAAcC,IAAd,cAAcA,IAAd,CAEAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,cAAc,0FAAG,iLAEDV,CAAAA,UAAU,SAAUQ,IAAI,CAACG,KAAf,CAFT,QAEbC,GAFa,eAGnBP,oBAAoB,CAACO,GAAG,CAACC,IAAL,CAApB,CAHmB,+EAKnBC,OAAO,CAACC,GAAR,cALmB,oEAAH,kBAAdL,CAAAA,cAAc,0CAApB,CAQAA,cAAc,GACf,CAVQ,CAUN,CAACF,IAAI,CAACG,KAAN,CAVM,CAAT,CAYAlB,SAAS,CAAC,UAAM,CACdU,SAAS,CAAC,CAAC,CAAEa,MAAM,CAAEP,IAAI,CAACQ,cAAf,CAAD,CAAD,CAAT,CACD,CAFQ,CAEN,CAACR,IAAI,CAACQ,cAAN,CAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBZ,QAAQ,CAACP,SAAS,CAACS,IAAD,CAAV,CAAR,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,yBAAf,wBACE,aACE,KAAK,CAAE,CACLW,OAAO,CAAE,MADJ,CAELC,UAAU,CAAE,QAFP,CAGLC,OAAO,CAAE,qBAHJ,CADT,wBAOE,aACE,KAAK,CAAE,CACLC,QAAQ,CAAE,MADL,CAELC,UAAU,CAAE,KAFP,CAGLC,WAAW,CAAE,MAHR,CADT,oBAPF,CAeU,GAfV,cAgBE,WAAI,SAAS,CAAC,kBAAd,qBAhBF,GADF,cAmBE,gBAAQ,OAAO,CAAEN,YAAjB,CAA+B,SAAS,CAAC,YAAzC,sCACa,UAAG,SAAS,CAAC,kBAAb,EADb,GAnBF,cAsBE,YAAK,SAAS,CAAC,YAAf,UACGhB,MAAM,CAACuB,GAAP,CAAW,SAACC,IAAD,CAAOC,KAAP,qBACV,KAAC,MAAD,EAAQ,IAAI,CAAED,IAAI,CAACV,MAAnB,CAA2B,MAAM,CAAE,IAAnC,EAA8CW,KAA9C,CADU,EAAX,CADH,EAtBF,GAFF,cA8BE,KAAC,MAAD,IA9BF,GADF,CAkCD,CA5DD,CA8DA,cAAe1B,CAAAA,MAAf","sourcesContent":["import Slider from \"../../components/slider/Slider\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Footer from \"../../components/footer/Footer\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport { removeAll } from \"../../redux/actions/userAction\";\nimport { getDataAPI } from \"../../utils/fetchData\";\nimport \"./mylist.scss\";\n\nconst MyList = () => {\n  const [myList, setMyList] = useState([]);\n  const [listsForRecommend, setListsForRecommend] = useState([]);\n  const dispatch = useDispatch();\n  const { auth, user } = useSelector((state) => state);\n\n  useEffect(() => {\n    const getRandomLists = async () => {\n      try {\n        const res = await getDataAPI(`lists`, auth.token);\n        setListsForRecommend(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getRandomLists();\n  }, [auth.token]);\n\n  useEffect(() => {\n    setMyList([{ result: user.favouriteMovie }]);\n  }, [user.favouriteMovie]);\n\n  const deleteAllFav = () => {\n    dispatch(removeAll(auth));\n  };\n\n  return (\n    <div className=\"favourite-list\">\n      <Navbar />\n      <div className=\"container-favouritelist\">\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: \"100px 60px 0px 60px\",\n          }}\n        >\n          <span\n            style={{\n              fontSize: \"2rem\",\n              fontWeight: \"300\",\n              marginRight: \"10px\",\n            }}\n          >\n            User &gt;\n          </span>{\" \"}\n          <h1 className=\"header-favourite\">My List</h1>\n        </div>\n        <button onClick={deleteAllFav} className=\"delete-all\">\n          Delete All <i className=\"fas fa-trash-alt\"></i>\n        </button>\n        <div className=\"movie-list\">\n          {myList.map((list, index) => (\n            <Slider data={list.result} poster={true} key={index} />\n          ))}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default MyList;\n"]},"metadata":{},"sourceType":"module"}