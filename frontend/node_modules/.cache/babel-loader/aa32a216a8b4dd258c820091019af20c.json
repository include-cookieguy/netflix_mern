{"ast":null,"code":"import _objectSpread from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import SliderItem from\"../slider-item/SliderItem\";import SliderContext from\"./context\";import useWindowWidth from\"../../hooks/useWindowWidth\";import useSlider from\"../../hooks/useSlider\";import\"./slider.scss\";import InfoModal from\"../infomodal/InfoModal\";import{useLocation}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Slider(_ref){var mainTitle=_ref.mainTitle,data=_ref.data,poster=_ref.poster,watchAgain=_ref.watchAgain;var width=useWindowWidth();var ref=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),movieModal=_useState4[0],setMovieModal=_useState4[1];var _useSlider=useSlider(width,ref,20,data,poster),moveSection=_useSlider.moveSection,selectSlide=_useSlider.selectSlide,scaleTiles=_useSlider.scaleTiles,resetSize=_useSlider.resetSize,sliderPages=_useSlider.sliderPages,slideProps=_useSlider.slideProps,hasPrev=_useSlider.hasPrev,hasNext=_useSlider.hasNext,content=_useSlider.content,currentSlide=_useSlider.currentSlide,paginationIndicator=_useSlider.paginationIndicator;var contextValue={currentSlide:currentSlide};var location=useLocation();return/*#__PURE__*/_jsxs(SliderContext.Provider,{value:contextValue,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sliderBox\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"slider-header\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/\",children:[/*#__PURE__*/_jsx(\"div\",{children:mainTitle}),!poster&&/*#__PURE__*/_jsx(\"div\",{className:\"see-more\",children:\"Explore more\"}),/*#__PURE__*/_jsx(\"div\",{className:\"see-more-chevron\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"slider\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"pagination-indicator\",children:sliderPages>0?paginationIndicator(sliderPages):\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sliderMask showPeek\",children:/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({className:\"slider-content \".concat(currentSlide?\"open\":\"\"),ref:ref},slideProps),{},{children:content.map(function(item){return/*#__PURE__*/_jsx(SliderItem,{idMovie:item.id,data:item,hover:scaleTiles,reset:resetSize,transform:item.transform,origin:item.origin,onSelectSlide:selectSlide,poster:poster,setShowModal:setShowModal,getMovie:function getMovie(movie){return setMovieModal(movie);}},item.id);})}))}),hasNext&&/*#__PURE__*/_jsx(\"span\",{className:\"handle handleNext\",onClick:function onClick(){return moveSection(\"right\");},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})})}),hasPrev&&/*#__PURE__*/_jsx(\"span\",{className:\"handle handlePrev\",onClick:function onClick(){return moveSection(\"left\");},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-left\"})})}),hasPrev&&hasNext===false?/*#__PURE__*/_jsx(\"span\",{className:\"handle handleNext\",onClick:function onClick(){return moveSection(\"reset\");},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-undo\"})})}):null]})})]}),showModal&&/*#__PURE__*/_jsx(InfoModal,{infoModal:showModal,setInfoModal:setShowModal,bigMovie:movieModal})]});}export default Slider;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/components/slider/Slider.js"],"names":["React","useRef","useState","SliderItem","SliderContext","useWindowWidth","useSlider","InfoModal","useLocation","Slider","mainTitle","data","poster","watchAgain","width","ref","showModal","setShowModal","movieModal","setMovieModal","moveSection","selectSlide","scaleTiles","resetSize","sliderPages","slideProps","hasPrev","hasNext","content","currentSlide","paginationIndicator","contextValue","location","map","item","id","transform","origin","movie"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport SliderItem from \"../slider-item/SliderItem\";\nimport SliderContext from \"./context\";\n\nimport useWindowWidth from \"../../hooks/useWindowWidth\";\nimport useSlider from \"../../hooks/useSlider\";\nimport \"./slider.scss\";\nimport InfoModal from \"../infomodal/InfoModal\";\nimport { useLocation } from \"react-router\";\n\nfunction Slider({ mainTitle, data, poster, watchAgain }) {\n  const width = useWindowWidth();\n  const ref = useRef(null);\n  const [showModal, setShowModal] = useState(false);\n  const [movieModal, setMovieModal] = useState({});\n\n  const {\n    moveSection,\n    selectSlide,\n    scaleTiles,\n    resetSize,\n    sliderPages,\n    slideProps,\n    hasPrev,\n    hasNext,\n    content,\n    currentSlide,\n    paginationIndicator,\n  } = useSlider(width, ref, 20, data, poster);\n\n  const contextValue = {\n    currentSlide,\n  };\n\n  const location = useLocation();\n\n  return (\n    <SliderContext.Provider value={contextValue}>\n      <div className=\"sliderBox\">\n        <h2 className=\"slider-header\">\n          <a href={\"/\"}>\n            <div>{mainTitle}</div>\n            {!poster && <div className=\"see-more\">Explore more</div>}\n            <div className=\"see-more-chevron\">\n              <i className=\"fas fa-chevron-right\"></i>\n            </div>\n          </a>\n        </h2>\n\n        <div className=\"slider-container\">\n          <div className=\"slider\">\n            <ul className=\"pagination-indicator\">\n              {sliderPages > 0 ? paginationIndicator(sliderPages) : \"\"}\n            </ul>\n\n            <div className=\"sliderMask showPeek\">\n              <div\n                className={`slider-content ${currentSlide ? \"open\" : \"\"}`}\n                ref={ref}\n                {...slideProps}\n              >\n                {content.map((item) => {\n                  return (\n                    <SliderItem\n                      key={item.id}\n                      idMovie={item.id}\n                      data={item}\n                      hover={scaleTiles}\n                      reset={resetSize}\n                      transform={item.transform}\n                      origin={item.origin}\n                      onSelectSlide={selectSlide}\n                      poster={poster}\n                      setShowModal={setShowModal}\n                      getMovie={(movie) => setMovieModal(movie)}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n\n            {hasNext && (\n              <span\n                className=\"handle handleNext\"\n                onClick={() => moveSection(\"right\")}\n              >\n                <strong>\n                  <i className=\"fas fa-chevron-right\"></i>\n                </strong>\n              </span>\n            )}\n\n            {hasPrev && (\n              <span\n                className=\"handle handlePrev\"\n                onClick={() => moveSection(\"left\")}\n              >\n                <strong>\n                  <i className=\"fas fa-chevron-left\"></i>\n                </strong>\n              </span>\n            )}\n\n            {/* GO BACK TO ZERO */}\n            {hasPrev && hasNext === false ? (\n              <span\n                className=\"handle handleNext\"\n                onClick={() => moveSection(\"reset\")}\n              >\n                <strong>\n                  <i className=\"fas fa-undo\"></i>\n                </strong>\n              </span>\n            ) : null}\n          </div>\n        </div>\n\n        {/* {currentSlide && (\n          <SelectedItem\n            currentSlide={currentSlide}\n            closeInformationWindow={closeInformationWindow}\n          />\n        )} */}\n      </div>\n      {showModal && (\n        <InfoModal\n          infoModal={showModal}\n          setInfoModal={setShowModal}\n          bigMovie={movieModal}\n        />\n      )}\n    </SliderContext.Provider>\n  );\n}\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}