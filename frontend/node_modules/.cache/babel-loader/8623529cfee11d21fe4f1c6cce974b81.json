{"ast":null,"code":"import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from\"react-router-dom\";import React,{useRef,useState,useContext}from\"react\";import SliderContext from\"../slider/context\";import\"./slider-item.scss\";import useVideo from\"../../hooks/useVideo\";import useMyList from\"../../hooks/useMyList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SliderItem(_ref){var data=_ref.data,hover=_ref.hover,reset=_ref.reset,transform=_ref.transform,origin=_ref.origin,idMovie=_ref.idMovie,poster=_ref.poster,setShowModal=_ref.setShowModal,getMovie=_ref.getMovie;var ref=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showOverlay=_useState2[0],setShowOverlay=_useState2[1];var _useMyList=useMyList(data.id),_useMyList2=_slicedToArray(_useMyList,2),save=_useMyList2[0],addMovieToFav=_useMyList2[1];var typeMedia=useVideo(\"image\",showOverlay);var sliderWrapper=useContext(SliderContext);var onHover=function onHover(e){if(!sliderWrapper.currentSlide){hover(e);setShowOverlay(true);}};var onHoverLeave=function onHoverLeave(e){reset(e);setShowOverlay(false);};var handleModal=function handleModal(){setShowModal(true);getMovie(data);};var isActive=sliderWrapper.currentSlide&&sliderWrapper.currentSlide.id===idMovie;var translate=\"translateX(\".concat(transform,\")\");var styled={transform:translate,transformOrigin:origin,transition:\"all 0.5s ease-in-out\"};return/*#__PURE__*/_jsxs(\"div\",{style:styled,\"data-id\":idMovie,className:\"slider-item \".concat(poster===true?\"poster\":\"card\"),ref:ref,onMouseLeave:function onMouseLeave(e){return onHoverLeave(e);},onMouseEnter:function onMouseEnter(e){return onHover(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"boxart-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"boxart\",children:poster===false?/*#__PURE__*/_jsx(React.Fragment,{children:data.poster?typeMedia===\"image\"?/*#__PURE__*/_jsx(\"img\",{src:data.posterSm,alt:\"boxart\"}):/*#__PURE__*/_jsx(\"video\",{className:\"video\",autoPlay:true,src:data.trailer}):/*#__PURE__*/_jsx(\"img\",{style:{background:\"black\"},alt:\"boxart\"})}):/*#__PURE__*/_jsx(React.Fragment,{children:data.poster?/*#__PURE__*/_jsx(\"img\",{src:data.posterCard,alt:\"boxart\"}):/*#__PURE__*/_jsx(\"img\",{style:{background:\"black\"},alt:\"boxart\"})})})}),/*#__PURE__*/_jsx(\"button\",{className:\"show-details\",onClick:handleModal,children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-down\"})})}),poster===false&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-overlay \".concat(showOverlay?\"open\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-overview\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"item-overview-title\",src:data.posterTitle,alt:\"title poster\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-overview-metadata\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metadata-rating\",children:\"HD\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"metadata-maturity\",children:[data.limitAge,\"+\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[data.imdb,\" \",/*#__PURE__*/_jsx(\"b\",{className:\"imdb\",children:\"IMDb\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"metadata-maturity\",children:data.year})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-overview-synopsis\",children:data.genre.split(\", \").join(\" · \")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-actions\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-action-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"play\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/watch\",state:{movie:data}},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-play\"})})})}),/*#__PURE__*/_jsx(\"div\",{onClick:addMovieToFav,title:save?\"Remove from My List\":\"Add to My List\",children:/*#__PURE__*/_jsx(\"span\",{children:save?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-chevron\"})]}),isActive&&/*#__PURE__*/_jsx(\"div\",{className:\"mark\"})]});}export default SliderItem;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/components/slider-item/SliderItem.js"],"names":["Link","React","useRef","useState","useContext","SliderContext","useVideo","useMyList","SliderItem","data","hover","reset","transform","origin","idMovie","poster","setShowModal","getMovie","ref","showOverlay","setShowOverlay","id","save","addMovieToFav","typeMedia","sliderWrapper","onHover","e","currentSlide","onHoverLeave","handleModal","isActive","translate","styled","transformOrigin","transition","posterSm","trailer","background","posterCard","posterTitle","limitAge","imdb","year","genre","split","join","pathname","state","movie"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport React, { useRef, useState, useContext } from \"react\";\nimport SliderContext from \"../slider/context\";\nimport \"./slider-item.scss\";\nimport useVideo from \"../../hooks/useVideo\";\nimport useMyList from \"../../hooks/useMyList\";\n\nfunction SliderItem({\n  data,\n  hover,\n  reset,\n  transform,\n  origin,\n  idMovie,\n  poster,\n  setShowModal,\n  getMovie,\n}) {\n  const ref = useRef(null);\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [save, addMovieToFav] = useMyList(data.id);\n\n  const typeMedia = useVideo(\"image\", showOverlay);\n\n  const sliderWrapper = useContext(SliderContext);\n\n  const onHover = (e) => {\n    if (!sliderWrapper.currentSlide) {\n      hover(e);\n      setShowOverlay(true);\n    }\n  };\n\n  const onHoverLeave = (e) => {\n    reset(e);\n    setShowOverlay(false);\n  };\n\n  const handleModal = () => {\n    setShowModal(true);\n    getMovie(data);\n  };\n\n  const isActive =\n    sliderWrapper.currentSlide && sliderWrapper.currentSlide.id === idMovie;\n\n  const translate = `translateX(${transform})`;\n\n  const styled = {\n    transform: translate,\n    transformOrigin: origin,\n    transition: \"all 0.5s ease-in-out\",\n  };\n\n  return (\n    <div\n      style={styled}\n      data-id={idMovie}\n      className={`slider-item ${poster === true ? \"poster\" : \"card\"}`}\n      ref={ref}\n      onMouseLeave={(e) => onHoverLeave(e)}\n      onMouseEnter={(e) => onHover(e)}\n    >\n      <div className=\"boxart-container\">\n        <div className=\"boxart\">\n          {poster === false ? (\n            <React.Fragment>\n              {data.poster ? (\n                typeMedia === \"image\" ? (\n                  <img src={data.posterSm} alt=\"boxart\" />\n                ) : (\n                  <video className=\"video\" autoPlay src={data.trailer} />\n                )\n              ) : (\n                <img style={{ background: \"black\" }} alt=\"boxart\" />\n              )}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              {data.poster ? (\n                <img src={data.posterCard} alt=\"boxart\" />\n              ) : (\n                <img style={{ background: \"black\" }} alt=\"boxart\" />\n              )}\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n\n      <button className=\"show-details\" onClick={handleModal}>\n        <span>\n          <i className=\"fas fa-angle-down\"></i>\n        </span>\n      </button>\n\n      {poster === false && (\n        <div className={`item-overlay ${showOverlay ? \"open\" : \"\"}`}>\n          <div className=\"item-wrapper\">\n            <div className=\"item-overview\">\n              <img\n                className=\"item-overview-title\"\n                src={data.posterTitle}\n                alt=\"title poster\"\n              />\n              <div className=\"item-overview-metadata\">\n                <span className=\"metadata-rating\">HD</span>\n                <span className=\"metadata-maturity\">{data.limitAge}+</span>\n                <span>\n                  {data.imdb} <b className=\"imdb\">IMDb</b>\n                </span>\n                <span className=\"metadata-maturity\">{data.year}</span>\n              </div>\n              <div className=\"item-overview-synopsis\">\n                {data.genre.split(\", \").join(\" · \")}\n              </div>\n            </div>\n            <div className=\"item-actions\">\n              <div className=\"item-action-buttons\">\n                <div>\n                  <span className=\"play\">\n                    <Link to={{ pathname: \"/watch\", state: { movie: data } }}>\n                      <i className=\"fas fa-play\"></i>\n                    </Link>\n                  </span>\n                </div>\n                <div\n                  onClick={addMovieToFav}\n                  title={save ? \"Remove from My List\" : \"Add to My List\"}\n                >\n                  <span>\n                    {save ? (\n                      <i className=\"fas fa-check\"></i>\n                    ) : (\n                      <i className=\"fas fa-plus\"></i>\n                    )}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"item-chevron\"></div>\n        </div>\n      )}\n\n      {isActive && <div className=\"mark\" />}\n    </div>\n  );\n}\n\nexport default SliderItem;\n"]},"metadata":{},"sourceType":"module"}