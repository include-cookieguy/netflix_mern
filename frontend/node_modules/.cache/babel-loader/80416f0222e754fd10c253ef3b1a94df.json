{"ast":null,"code":"import _objectSpread from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Route,Switch,useHistory,useLocation}from\"react-router-dom\";import\"./submit.scss\";import Step1 from\"../../components/step-register/Step1\";import Step2 from\"../../components/step-register/Step2\";import Step3 from\"../../components/step-register/Step3\";import Completed from\"../../components/step-register/Completed\";import{useSelector}from\"react-redux\";import Navbar from\"../../components/navbar/Navbar\";import Footer from\"../../components/footer/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Submit=function Submit(){var info={account:{username:\"\",email:\"\",password:\"\",birthday:\"\"},plan:{price:\"\",type:\"\"},card:{firstName:\"\",lastName:\"\",cardNumber:\"\",expiredDate:\"\",securityCode:\"\"}};var _useState=useState(info),_useState2=_slicedToArray(_useState,2),infoRegister=_useState2[0],setInfoRegister=_useState2[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var history=useHistory();var location=useLocation();useEffect(function(){if(!auth.user){setInfoRegister(function(infoRegister){return _objectSpread(_objectSpread({},infoRegister),{},{email:auth.infoRegis.account.email||\"\"});});}},[auth.user]);useEffect(function(){if(auth.token){history.replace(\"/\");}},[auth,history]);useEffect(function(){window.scrollTo(0,0);},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:\"submit\",children:[/*#__PURE__*/_jsx(Navbar,{bgColor:\"#fff\",borderBottom:\"1px solid #e6e6e6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/submit\",children:/*#__PURE__*/_jsx(Step1,{transEmail:infoRegister.email})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/submit/step2\",children:/*#__PURE__*/_jsx(Step2,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/submit/step3\",children:/*#__PURE__*/_jsx(Step3,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/submit/completed\",children:/*#__PURE__*/_jsx(Completed,{})})]})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Submit;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/pages/submit/Submit.js"],"names":["React","useEffect","useState","BrowserRouter","Router","Route","Switch","useHistory","useLocation","Step1","Step2","Step3","Completed","useSelector","Navbar","Footer","Submit","info","account","username","email","password","birthday","plan","price","type","card","firstName","lastName","cardNumber","expiredDate","securityCode","infoRegister","setInfoRegister","state","auth","history","location","user","infoRegis","token","replace","window","scrollTo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\";\nimport \"./submit.scss\";\nimport Step1 from \"../../components/step-register/Step1\";\nimport Step2 from \"../../components/step-register/Step2\";\nimport Step3 from \"../../components/step-register/Step3\";\nimport Completed from \"../../components/step-register/Completed\";\nimport { useSelector } from \"react-redux\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport Footer from \"../../components/footer/Footer\";\n\nconst Submit = () => {\n  const info = {\n    account: {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      birthday: \"\",\n    },\n    plan: {\n      price: \"\",\n      type: \"\",\n    },\n    card: {\n      firstName: \"\",\n      lastName: \"\",\n      cardNumber: \"\",\n      expiredDate: \"\",\n      securityCode: \"\",\n    },\n  };\n\n  const [infoRegister, setInfoRegister] = useState(info);\n\n  const { auth } = useSelector((state) => state);\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!auth.user) {\n      setInfoRegister((infoRegister) => ({\n        ...infoRegister,\n        email: auth.infoRegis.account.email || \"\",\n      }));\n    }\n  }, [auth.user]);\n\n  useEffect(() => {\n    if (auth.token) {\n      history.replace(\"/\");\n    }\n  }, [auth, history]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  return (\n    <div className=\"submit\">\n      <Navbar bgColor=\"#fff\" borderBottom=\"1px solid #e6e6e6\" />\n      <div className=\"container\">\n        <Router>\n          <Switch>\n            <Route exact path=\"/submit\">\n              <Step1 transEmail={infoRegister.email} />\n            </Route>\n            <Route exact path=\"/submit/step2\">\n              <Step2 />\n            </Route>\n            <Route exact path=\"/submit/step3\">\n              <Step3 />\n            </Route>\n            <Route exact path=\"/submit/completed\">\n              <Completed />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Submit;\n"]},"metadata":{},"sourceType":"module"}