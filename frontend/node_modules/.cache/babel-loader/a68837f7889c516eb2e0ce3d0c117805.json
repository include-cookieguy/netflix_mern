{"ast":null,"code":"import _regeneratorRuntime from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{postDataAPI,deleteDataAPI,getDataAPI,patchDataAPI}from\"../../utils/fetchData\";import{GLOBALTYPES}from\"./globalTypes\";export var getFav=function getFav(auth){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getDataAPI(\"user/favlist\",auth.token);case 3:res=_context.sent;dispatch({type:GLOBALTYPES.GETFAV,payload:res.data.favouriteMovie});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context.t0.response.data.msg}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var addToFav=function addToFav(item,auth){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return postDataAPI(\"user/favlist/\".concat(item),null,auth.token);case 3:res=_context2.sent;dispatch({type:GLOBALTYPES.ADDFAV,payload:res.data.movie});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context2.t0.response.data.msg}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteToFav=function deleteToFav(item,auth){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return deleteDataAPI(\"user/favlist/\".concat(item),auth.token);case 3:dispatch({type:GLOBALTYPES.REMOVEFAV,payload:item});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context3.t0.response.data.msg}});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var removeAll=function removeAll(auth){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return deleteDataAPI(\"user/favlist\",auth.token);case 3:dispatch({type:GLOBALTYPES.REMOVEFAVALL});_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context4.t0.response.data.msg}});case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var getWatchAgain=function getWatchAgain(auth){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return getDataAPI(\"user/again\",auth.token);case 3:res=_context5.sent;dispatch({type:GLOBALTYPES.GETWATCHAGAIN,payload:res.data});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context5.t0.response.data.msg}});case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var createWatchAgain=function createWatchAgain(auth,watchAgainMovie){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return postDataAPI(\"user/again\",watchAgainMovie,auth.token);case 3:dispatch({type:GLOBALTYPES.WATCHAGAIN,payload:watchAgainMovie});_context6.next=9;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context6.t0.response.data.msg}});case 9:case\"end\":return _context6.stop();}}},_callee6,null,[[0,6]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var updateWatchAgain=function updateWatchAgain(auth,watchAgainMovie){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return patchDataAPI(\"user/again\",watchAgainMovie,auth.token);case 3:dispatch({type:GLOBALTYPES.SETWATCHAGAIN,payload:watchAgainMovie});_context7.next=9;break;case 6:_context7.prev=6;_context7.t0=_context7[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context7.t0.response.data.msg}});case 9:case\"end\":return _context7.stop();}}},_callee7,null,[[0,6]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var deleteWatchAgain=function deleteWatchAgain(auth,id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return deleteDataAPI(\"user/again/\".concat(id),auth.token);case 3:dispatch({type:GLOBALTYPES.REMOVEWATCHAGAIN,payload:id});_context8.next=9;break;case 6:_context8.prev=6;_context8.t0=_context8[\"catch\"](0);dispatch({type:GLOBALTYPES.ALERT,payload:{error:_context8.t0.response.data.msg}});case 9:case\"end\":return _context8.stop();}}},_callee8,null,[[0,6]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/redux/actions/userAction.js"],"names":["postDataAPI","deleteDataAPI","getDataAPI","patchDataAPI","GLOBALTYPES","getFav","auth","dispatch","token","res","type","GETFAV","payload","data","favouriteMovie","ALERT","error","response","msg","addToFav","item","ADDFAV","movie","deleteToFav","REMOVEFAV","removeAll","REMOVEFAVALL","getWatchAgain","GETWATCHAGAIN","createWatchAgain","watchAgainMovie","WATCHAGAIN","updateWatchAgain","SETWATCHAGAIN","deleteWatchAgain","id","REMOVEWATCHAGAIN"],"mappings":"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","sourcesContent":["import {\n  postDataAPI,\n  deleteDataAPI,\n  getDataAPI,\n  patchDataAPI,\n} from \"../../utils/fetchData\";\nimport { GLOBALTYPES } from \"./globalTypes\";\n\nexport const getFav = (auth) => async (dispatch) => {\n  try {\n    const res = await getDataAPI(`user/favlist`, auth.token);\n    dispatch({ type: GLOBALTYPES.GETFAV, payload: res.data.favouriteMovie });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const addToFav = (item, auth) => async (dispatch) => {\n  try {\n    const res = await postDataAPI(`user/favlist/${item}`, null, auth.token);\n    dispatch({ type: GLOBALTYPES.ADDFAV, payload: res.data.movie });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const deleteToFav = (item, auth) => async (dispatch) => {\n  try {\n    await deleteDataAPI(`user/favlist/${item}`, auth.token);\n    dispatch({ type: GLOBALTYPES.REMOVEFAV, payload: item });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const removeAll = (auth) => async (dispatch) => {\n  try {\n    await deleteDataAPI(`user/favlist`, auth.token);\n    dispatch({ type: GLOBALTYPES.REMOVEFAVALL });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const getWatchAgain = (auth) => async (dispatch) => {\n  try {\n    const res = await getDataAPI(`user/again`, auth.token);\n\n    dispatch({ type: GLOBALTYPES.GETWATCHAGAIN, payload: res.data });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const createWatchAgain = (auth, watchAgainMovie) => async (dispatch) => {\n  try {\n    await postDataAPI(`user/again`, watchAgainMovie, auth.token);\n\n    dispatch({ type: GLOBALTYPES.WATCHAGAIN, payload: watchAgainMovie });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const updateWatchAgain = (auth, watchAgainMovie) => async (dispatch) => {\n  try {\n    await patchDataAPI(`user/again`, watchAgainMovie, auth.token);\n\n    dispatch({ type: GLOBALTYPES.SETWATCHAGAIN, payload: watchAgainMovie });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const deleteWatchAgain = (auth, id) => async (dispatch) => {\n  try {\n    await deleteDataAPI(`user/again/${id}`, auth.token);\n\n    dispatch({ type: GLOBALTYPES.REMOVEWATCHAGAIN, payload: id });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}