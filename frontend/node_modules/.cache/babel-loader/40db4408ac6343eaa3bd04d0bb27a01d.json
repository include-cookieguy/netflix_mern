{"ast":null,"code":"import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addToFav,deleteToFav}from\"../redux/actions/userAction\";export default function useMyList(id){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),save=_useState2[0],setSave=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,user=_useSelector.user;var mapMovieId=user.favouriteMovie.map(function(e){return e._id;});var addMovieToFav=function addMovieToFav(){if(save){dispatch(deleteToFav(id,auth));}else{dispatch(addToFav(id,auth));}};useEffect(function(){if(mapMovieId.includes(id)){setSave(true);}else{setSave(false);}},[save,id,user,mapMovieId]);return[save,addMovieToFav];}","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/hooks/useMyList.js"],"names":["useState","useEffect","useDispatch","useSelector","addToFav","deleteToFav","useMyList","id","save","setSave","dispatch","state","auth","user","mapMovieId","favouriteMovie","map","e","_id","addMovieToFav","includes"],"mappings":"+JAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,6BAAtC,CAEA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,EAAnB,CAAuB,CACpC,cAAwBP,QAAQ,CAAC,KAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,iBAAuBC,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAAlC,CAAQC,IAAR,cAAQA,IAAR,CAAcC,IAAd,cAAcA,IAAd,CACA,GAAMC,CAAAA,UAAU,CAAGD,IAAI,CAACE,cAAL,CAAoBC,GAApB,CAAwB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,GAAT,EAAxB,CAAnB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAIX,IAAJ,CAAU,CACRE,QAAQ,CAACL,WAAW,CAACE,EAAD,CAAKK,IAAL,CAAZ,CAAR,CACD,CAFD,IAEO,CACLF,QAAQ,CAACN,QAAQ,CAACG,EAAD,CAAKK,IAAL,CAAT,CAAR,CACD,CACF,CAND,CAQAX,SAAS,CAAC,UAAM,CACd,GAAIa,UAAU,CAACM,QAAX,CAAoBb,EAApB,CAAJ,CAA6B,CAC3BE,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,IAEO,CACLA,OAAO,CAAC,KAAD,CAAP,CACD,CACF,CANQ,CAMN,CAACD,IAAD,CAAOD,EAAP,CAAWM,IAAX,CAAiBC,UAAjB,CANM,CAAT,CAQA,MAAO,CAACN,IAAD,CAAOW,aAAP,CAAP,CACD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToFav, deleteToFav } from \"../redux/actions/userAction\";\n\nexport default function useMyList(id) {\n  const [save, setSave] = useState(false);\n  const dispatch = useDispatch();\n  const { auth, user } = useSelector((state) => state);\n  const mapMovieId = user.favouriteMovie.map((e) => e._id);\n\n  const addMovieToFav = () => {\n    if (save) {\n      dispatch(deleteToFav(id, auth));\n    } else {\n      dispatch(addToFav(id, auth));\n    }\n  };\n\n  useEffect(() => {\n    if (mapMovieId.includes(id)) {\n      setSave(true);\n    } else {\n      setSave(false);\n    }\n  }, [save, id, user, mapMovieId]);\n\n  return [save, addMovieToFav];\n}\n"]},"metadata":{},"sourceType":"module"}