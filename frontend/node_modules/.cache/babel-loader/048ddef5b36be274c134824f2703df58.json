{"ast":null,"code":"import _objectSpread from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useHistory}from\"react-router-dom\";import Footer from\"../../components/footer/Footer\";import Navbar from\"../../components/navbar/Navbar\";import{login}from\"../../redux/actions/authAction\";import\"./login.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),rememberUser=_useState8[0],setRememberUser=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),errBlur=_useState10[0],setErrBlur=_useState10[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,alert=_useSelector.alert;var dispatch=useDispatch();var history=useHistory();useEffect(function(){if(auth.token){history.replace(\"/\");}},[history,auth]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(!email&&!password){setErrBlur(_objectSpread(_objectSpread({},errBlur),{},{email:\"Please enter a valid email\",password:\"Your password must contain between 4 and 60 characters.\"}));}else if(!email){setErrBlur(_objectSpread(_objectSpread({},errBlur),{},{email:\"Please enter a valid email\"}));}else if(!password){setErrBlur(_objectSpread(_objectSpread({},errBlur),{},{password:\"Your password must contain between 4 and 60 characters.\"}));}else{dispatch(login({email:email,password:password}));}};var handleBlur=function handleBlur(type){if(type===\"email\"&&email){if(email.length===0||!validateEmail(email)){setErrBlur(_objectSpread(_objectSpread({},errBlur),{},{email:\"Please enter a valid email\"}));}}if(type===\"password\"&&password){if(password.length<4||password.length>60){setErrBlur(_objectSpread(_objectSpread({},errBlur),{},{password:\"Your password must contain between 4 and 60 characters.\"}));}}};function validateEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);}return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(Navbar,{bgColor:\"transparent\",color:\"#fff\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),alert.error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-submit\",children:alert.error}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},onBlur:function onBlur(){return handleBlur(\"email\");},value:email,onInput:function onInput(){return setErrBlur({email:\"\"});}}),/*#__PURE__*/_jsx(\"span\",{className:\"placeholder \".concat(email&&\"trans-placeholder\"),children:\"Email\"})]})}),/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errBlur.email}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,onBlur:function onBlur(){return handleBlur(\"password\");},onInput:function onInput(){return setErrBlur({password:\"\"});}}),/*#__PURE__*/_jsx(\"span\",{className:\"placeholder \".concat(password&&\"trans-placeholder\"),children:\"Password\"}),password&&/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setShowPassword(!showPassword);},className:\"show-pass\",children:showPassword?\"HIDE\":\"SHOW\"})]})}),/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errBlur.password}),/*#__PURE__*/_jsx(\"button\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"remember\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"remember\",className:\"checkbox-input\",onChange:function onChange(){return setRememberUser(!rememberUser);}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"remember\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-check check\"}),\"Remember me\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.netflix.com/vn-en/login\",children:\"Need help?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-to\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"New to Netflix?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sign-up-now\",children:\"Sign up now.\"})})]}),/*#__PURE__*/_jsxs(\"small\",{children:[\"This page is protected by Google reCAPTCHA to ensure you're not a bot. \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.netflix.com/vn-en/login\",children:\"Learn more\"}),\".\"]})]})]})}),/*#__PURE__*/_jsx(Footer,{bgColor:\"rgba(0, 0, 0, 0.3)\"})]});};export default Login;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/pages/login/Login.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","useHistory","Footer","Navbar","login","Login","email","setEmail","password","setPassword","showPassword","setShowPassword","rememberUser","setRememberUser","errBlur","setErrBlur","state","auth","alert","dispatch","history","token","replace","handleSubmit","e","preventDefault","handleBlur","type","length","validateEmail","re","test","error","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Footer from \"../../components/footer/Footer\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport { login } from \"../../redux/actions/authAction\";\nimport \"./login.scss\";\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [rememberUser, setRememberUser] = useState(false);\n  const [errBlur, setErrBlur] = useState({});\n\n  const { auth, alert } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (auth.token) {\n      history.replace(\"/\");\n    }\n  }, [history, auth]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!email && !password) {\n      setErrBlur({\n        ...errBlur,\n        email: \"Please enter a valid email\",\n        password: \"Your password must contain between 4 and 60 characters.\",\n      });\n    } else if (!email) {\n      setErrBlur({\n        ...errBlur,\n        email: \"Please enter a valid email\",\n      });\n    } else if (!password) {\n      setErrBlur({\n        ...errBlur,\n        password: \"Your password must contain between 4 and 60 characters.\",\n      });\n    } else {\n      dispatch(login({ email, password }));\n    }\n  };\n\n  const handleBlur = (type) => {\n    if (type === \"email\" && email) {\n      if (email.length === 0 || !validateEmail(email)) {\n        setErrBlur({\n          ...errBlur,\n          email: \"Please enter a valid email\",\n        });\n      }\n    }\n    if (type === \"password\" && password) {\n      if (password.length < 4 || password.length > 60) {\n        setErrBlur({\n          ...errBlur,\n          password: \"Your password must contain between 4 and 60 characters.\",\n        });\n      }\n    }\n  };\n\n  function validateEmail(email) {\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n\n  return (\n    <div className=\"login\">\n      <Navbar bgColor=\"transparent\" color=\"#fff\" />\n      <div className=\"container\">\n        <form onSubmit={handleSubmit}>\n          <h1>Sign In</h1>\n          {alert.error && <div className=\"error-submit\">{alert.error}</div>}\n          <div className=\"input\">\n            <div className=\"input-field\">\n              <input\n                type=\"email\"\n                onChange={(e) => setEmail(e.target.value)}\n                onBlur={() => handleBlur(\"email\")}\n                value={email}\n                onInput={() => setErrBlur({ email: \"\" })}\n              />\n              <span className={`placeholder ${email && \"trans-placeholder\"}`}>\n                Email\n              </span>\n            </div>\n          </div>\n          <small className=\"error\">{errBlur.email}</small>\n          <div className=\"input\">\n            <div className=\"input-field\">\n              <input\n                type={showPassword ? \"text\" : \"password\"}\n                onChange={(e) => setPassword(e.target.value)}\n                value={password}\n                onBlur={() => handleBlur(\"password\")}\n                onInput={() => setErrBlur({ password: \"\" })}\n              />\n              <span\n                className={`placeholder ${password && \"trans-placeholder\"}`}\n              >\n                Password\n              </span>\n              {password && (\n                <span\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"show-pass\"\n                >\n                  {showPassword ? \"HIDE\" : \"SHOW\"}\n                </span>\n              )}\n            </div>\n          </div>\n          <small className=\"error\">{errBlur.password}</small>\n          <button>Sign In</button>\n          <div className=\"remember\">\n            <input\n              type=\"checkbox\"\n              id=\"remember\"\n              className=\"checkbox-input\"\n              onChange={() => setRememberUser(!rememberUser)}\n            />\n            <label htmlFor=\"remember\">\n              <i className=\"fa fa-check check\"></i>Remember me\n            </label>\n\n            <a href=\"https://www.netflix.com/vn-en/login\">Need help?</a>\n          </div>\n          <div className=\"new-to\">\n            <p>\n              New to Netflix?{\" \"}\n              <Link to=\"/\">\n                <span className=\"sign-up-now\">Sign up now.</span>\n              </Link>\n            </p>\n            <small>\n              This page is protected by Google reCAPTCHA to ensure you're not a\n              bot. <a href=\"https://www.netflix.com/vn-en/login\">Learn more</a>.\n            </small>\n          </div>\n        </form>\n      </div>\n\n      <Footer bgColor=\"rgba(0, 0, 0, 0.3)\" />\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}