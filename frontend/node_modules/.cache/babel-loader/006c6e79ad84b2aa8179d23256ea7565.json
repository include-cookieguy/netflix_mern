{"ast":null,"code":"import _slicedToArray from\"/home/thangnq/Code/netflix_mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation}from\"react-router\";import{GLOBALTYPES}from\"../../redux/actions/globalTypes\";import InfoModal from\"../infomodal/InfoModal\";import SearchItem from\"../search-item/SearchItem\";import\"./search-list.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchList=function SearchList(){var _useSelector=useSelector(function(state){return state;}),search=_useSelector.search,user=_useSelector.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listGrid=_useState2[0],setListGrid=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),movieModal=_useState4[0],setMovieModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showModal=_useState6[0],setShowModal=_useState6[1];var location=useLocation();var dispatch=useDispatch();useEffect(function(){dispatch({type:GLOBALTYPES.ALERT,payload:{loading:true}});setTimeout(function(){dispatch({type:GLOBALTYPES.ALERT,payload:{}});},300);window.scrollTo(0,0);return function(){dispatch({type:GLOBALTYPES.ALERT,payload:{loading:true}});window.scrollTo(0,0);setTimeout(function(){dispatch({type:GLOBALTYPES.ALERT,payload:{}});},300);};},[dispatch]);useEffect(function(){if(location.pathname===\"/again\"){setListGrid(user.watchAgain);}else if(search.searchInput&&location.pathname!==\"/again\"){setListGrid(search.searchList);}},[search,user,location.pathname]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-query\",children:[search.searchInput?/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"3.8rem\"},children:\"Search Movie | Series | Actors\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"2rem\",fontWeight:\"300\",marginRight:\"10px\"},children:\"User >\"}),\" \",/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"3.8rem\"},children:\"Watch Again\"})]}),search.searchInput&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Get \",/*#__PURE__*/_jsxs(\"span\",{children:[search.searchList.length,\" results\"]}),\" related to your search in \",/*#__PURE__*/_jsxs(\"span\",{children:[search.timeQuery,\" milliseconds\"]})]})]}),listGrid.map(function(e,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(SearchItem,{movie:e,getMovie:function getMovie(movie){return setMovieModal(movie);},setShowModal:setShowModal},index),location.pathname===\"/again\"&&/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"span\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"progress-completed\",style:{width:e.pausedAt/e.movieLength*100+\"%\"}})})})]});})]}),showModal&&/*#__PURE__*/_jsx(InfoModal,{infoModal:showModal,setInfoModal:setShowModal,bigMovie:movieModal})]});};export default SearchList;","map":{"version":3,"sources":["/home/thangnq/Code/netflix_mern/frontend/src/components/search-list/SearchList.js"],"names":["useEffect","useState","useDispatch","useSelector","useLocation","GLOBALTYPES","InfoModal","SearchItem","SearchList","state","search","user","listGrid","setListGrid","movieModal","setMovieModal","showModal","setShowModal","location","dispatch","type","ALERT","payload","loading","setTimeout","window","scrollTo","pathname","watchAgain","searchInput","searchList","fontSize","display","alignItems","fontWeight","marginRight","length","timeQuery","map","e","index","movie","width","pausedAt","movieLength"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\nimport InfoModal from \"../infomodal/InfoModal\";\nimport SearchItem from \"../search-item/SearchItem\";\nimport \"./search-list.scss\";\n\nconst SearchList = () => {\n  const { search, user } = useSelector((state) => state);\n  const [listGrid, setListGrid] = useState([]);\n  const [movieModal, setMovieModal] = useState({});\n  const [showModal, setShowModal] = useState(false);\n  const location = useLocation();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n    setTimeout(() => {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\n    }, 300);\n    window.scrollTo(0, 0);\n\n    return () => {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n      window.scrollTo(0, 0);\n      setTimeout(() => {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\n      }, 300);\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (location.pathname === \"/again\") {\n      setListGrid(user.watchAgain);\n    } else if (search.searchInput && location.pathname !== \"/again\") {\n      setListGrid(search.searchList);\n    }\n  }, [search, user, location.pathname]);\n\n  return (\n    <div className=\"search-container\">\n      <div className=\"search-list\">\n        <div className=\"time-query\">\n          {search.searchInput ? (\n            <h1 style={{ fontSize: \"3.8rem\" }}>\n              Search Movie | Series | Actors\n            </h1>\n          ) : (\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n              }}\n            >\n              <span\n                style={{\n                  fontSize: \"2rem\",\n                  fontWeight: \"300\",\n                  marginRight: \"10px\",\n                }}\n              >\n                User &gt;\n              </span>{\" \"}\n              <h1 style={{ fontSize: \"3.8rem\" }}>Watch Again</h1>\n            </div>\n          )}\n          {search.searchInput && (\n            <span>\n              Get <span>{search.searchList.length} results</span> related to\n              your search in <span>{search.timeQuery} milliseconds</span>\n            </span>\n          )}\n        </div>\n        {listGrid.map((e, index) => (\n          <div className=\"grid-container\">\n            <SearchItem\n              movie={e}\n              key={index}\n              getMovie={(movie) => setMovieModal(movie)}\n              setShowModal={setShowModal}\n            />\n            {location.pathname === \"/again\" && (\n              <div className=\"progress\">\n                <span className=\"progress-bar\">\n                  <span\n                    className=\"progress-completed\"\n                    style={{\n                      width: (e.pausedAt / e.movieLength) * 100 + \"%\",\n                    }}\n                  ></span>\n                </span>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      {showModal && (\n        <InfoModal\n          infoModal={showModal}\n          setInfoModal={setShowModal}\n          bigMovie={movieModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SearchList;\n"]},"metadata":{},"sourceType":"module"}